<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="fetchBTN">Fetch</button>
    <div id="root"></div>
    <script>
        let source = {}

        let root = document.getElementById('root')
        let p = document.createElement('p')
        fetch('./source.json')
        .then(res => res.json())
        .then(data => {
            source = data
            // console.log(source)
        })
        const fetchBtn = document.getElementById("fetchBTN");
        fetchBtn.addEventListener('click', () => {
            // Make a request to the server
            fetch('https://pokeapi.co/api/v2/pokemon')
            .then(response => response.json())
            .then(data => {
                console.log(data.results)
                // root.append(`<p>${data.results[0].name}</p>`)
                // root.append(`<p>${data.results[0].url}</p>`)
                let namePok = p.textContent = data.results[0].name
                // let urlPoke = p.textContent = data.results[0].url
                root.append(namePok)
                const link = data.results[0].url
                return fetch(link)
            })
            .then(response => response.json())
            .then(linkData => {
                console.log(linkData)
                // root.append(`<p>${linkData.sprites.front_default}</p>`)
                // root.append(`<img src="${linkData.sprites.front_default}">`)
                // root.append(`<img src="${linkImages}">`)
                let img = document.createElement('img')
                img.src = linkData.sprites.front_default
                root.append(img)
            })
        })
    </script>
</body>
</html>